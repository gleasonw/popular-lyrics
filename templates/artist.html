<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Data page template for artist entry</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='siteStyle.css') }}">
</head>


<body>

  <div class="iconRow">
         <a href="/">
         <img src="{{ url_for('static', filename='home.png') }}" alt="Home page icon"></a>
         <a href="/info.html">
          <img src="{{ url_for('static', filename='infoIcon.png') }}" alt="info page icon"></a>



    <div class = "minibar">
        <button type="submit" onclick="sendToPage();" id="searchButton"> 
            <img src="{{ url_for('static', filename='search.png') }}" height="10px">
        </button>
        <input type="search" placeholder="Enter a word, year, or year range" method="put" id="search">
    </div>

    </div>

</br>
</br>

<div class= "centered">
    <div class = "header">
    <p>{{ artist }}</p>
    </div>
</div>



<!-- shows two relevant lists on the left of the page: top words, top songs!-->
<div class = "centeredBox">

    <div class="card">
        <h3>
            Words from {{ artist }}'s top songs.
            </h3>
        After filtering out some uninteresting (common) words

        <div class="scroller">
            <table>
                <tr><th>Word</th><th>Count</th></tr>
                {% for wordAndCount in topWords %}
                    <tr><td>{{ wordAndCount[0] }} </td><td>{{ wordAndCount[1] }}</td></tr>
                {% endfor %}
            </table>
        </div>
    </div>
    <div class="card">
        <img src ="{{ url_for('static', filename='wordCloud.png') }}" alt="wordCloud for year">
    </div>
    
</div>


<script type="text/javascript">

/* js code to properly format the url from the user input */
	 function sendToPage(){
	 	 var input = document.getElementById("search").value;
	 	 var code = "/query/";
	 	 var codedInput = code.concat(input);
	 	 location.href = codedInput;
	 	     return false;
	 			}

/* js code that registers the "enter" key as submit */
	 document.getElementById("search")
	 .addEventListener("keyup", function(event) {
	     event.preventDefault();
	     if (event.code === 'Enter') {
	         document.getElementById("searchButton").click();
	     }
	 });

</script>

</body>

</html>
